/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/social-channel.js":
/*!**********************************!*\
  !*** ./src/js/social-channel.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/**\n * Share Channels\n */\nclass SocialChannel {\n  windowHeight = \"400\";\n  windowWidth = \"600\";\n  title = wpdm_social_share.title;\n  description = wpdm_social_share.description;\n  /**\n   * Constructor\n   */\n\n  constructor(channel, permalink, button) {\n    this.channel = channel;\n    this.permalink = permalink;\n    this.button = button;\n  }\n  /**\n   * Counter share\n   * @channel {string}\n   * @permalink {string}\n   */\n\n\n  async counter() {\n    const ajax_url = wpdm_social_share.ajax_url + \"?action=wpdm_social_share_counter\";\n    var data = {\n      channel: this.channel,\n      url: this.permalink,\n      post_id: wpdm_social_share.post_id || 0,\n      nonce: wpdm_social_share.nonce || 0,\n      user_id: wpdm_social_share.user_id || 0,\n      user_agent: navigator.userAgent || \"\"\n    };\n    const response = await fetch(ajax_url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    });\n    const result = await response.json();\n    console.log('Counter data', result);\n    data = result.data || {};\n\n    if (result.success) {\n      this.saveToLocalStorage();\n      const channels = result.data.shares;\n      const container = this.button.closest(\"._social-share-container\");\n      const channelElements = container.querySelectorAll(\"[data-channel]\");\n\n      if (channelElements.length > 0) {\n        channelElements.forEach(channelElement => {\n          const channel = channelElement.getAttribute(\"data-channel\");\n          const channelObject = channels.find(item => item.channel === channel);\n\n          if (channelObject) {\n            const counterElement = channelElement.querySelector(\"._channel-count span\");\n\n            if (counterElement) {\n              counterElement.innerText = channelObject.total || 0;\n            }\n          }\n        });\n      }\n\n      const totalElement = container.querySelector(\"._total-share-count\");\n\n      if (totalElement) {\n        totalElement.querySelector(\"span:first-child\").innerText = data.total || 0;\n      }\n    }\n  }\n  /**\n   * Save to local storage\n   */\n\n\n  saveToLocalStorage() {\n    const data = {\n      url: this.permalink,\n      channel: this.channel\n    };\n    let wpdm_social_share_shares = localStorage.getItem(\"wpdm_social_share_shares\");\n\n    if (wpdm_social_share_shares) {\n      try {\n        wpdm_social_share_shares = JSON.parse(wpdm_social_share_shares);\n      } catch (e) {\n        wpdm_social_share_shares = [];\n      }\n    } else {\n      wpdm_social_share_shares = [];\n    }\n\n    wpdm_social_share_shares.push(data);\n    localStorage.setItem(\"wpdm_social_share_shares\", JSON.stringify(wpdm_social_share_shares));\n  }\n  /**\n   * Share\n   *\n   */\n\n\n  share() {\n    /**\n     * Middleware\n     */\n    if (typeof this[\"before_\" + this.channel] === \"function\") {\n      const isTrue = this[\"before_\" + this.channel]();\n\n      if (!isTrue) {\n        return;\n      }\n    } // counter\n\n\n    if (![\"copy\", \"more\"].includes(this.channel)) {\n      try {\n        const max_share_count = wpdm_social_share.options.maximum_click_count || 0;\n\n        if (max_share_count === 0 || max_share_count == '') {\n          this.counter();\n        } else {\n          let wpdm_social_share_shares = localStorage.getItem(\"wpdm_social_share_shares\");\n\n          if (wpdm_social_share_shares) {\n            try {\n              wpdm_social_share_shares = JSON.parse(wpdm_social_share_shares);\n            } catch (e) {\n              wpdm_social_share_shares = [];\n            }\n          } else {\n            wpdm_social_share_shares = [];\n          }\n\n          const shared = wpdm_social_share_shares.filter(item => item.url === this.permalink && item.channel === this.channel);\n\n          if (shared.length < max_share_count) {\n            this.counter();\n          }\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    if (this.channel === 'copy') {\n      this.counter();\n    } // check if method exists and CALL it\n\n\n    if (typeof this[this.channel] === \"function\") {\n      this[this.channel]();\n    }\n    /**\n     * After middleware\n     * @returns {void}\n     */\n\n\n    if (typeof this[\"after_\" + this.channel] === \"function\") {\n      this[\"after_\" + this.channel]();\n    }\n  }\n  /**\n   * more\n   */\n\n\n  more() {\n    jQuery(\"._wpdm-social-share-modal\").fadeIn(150);\n    jQuery(\"._wpdm-social-share-modal-overlay\").fadeIn(100);\n  }\n  /**\n   * Copy link\n   */\n\n\n  copy() {\n    const textArea = document.createElement(\"textarea\");\n    textArea.value = this.permalink;\n    document.body.appendChild(textArea);\n    textArea.select();\n    document.execCommand(\"copy\");\n    textArea.remove();\n  }\n  /**\n   * After copy\n   */\n\n\n  after_copy() {\n    // change button label to \"Copied\"\n    const buttonLabel = this.button.querySelector(\"span._channel-name\");\n\n    if (buttonLabel) {\n      const tooltip = this.button.querySelector(\"._channel-tooltip\") || document.createElement(\"span\");\n      tooltip.classList.add(\"_channel-tooltip\");\n      tooltip.classList.add(\"wp-dark-mode-ignore\");\n      tooltip.classList.add(\"not-slanted\");\n      tooltip.innerText = wpdm_social_share.labels.copied || 'Copied';\n      tooltip.style.display = \"none\"; // insert inside button \n\n      this.button.appendChild(tooltip); // fade in tooltip using jQuery\n\n      jQuery(tooltip).fadeIn(120);\n      setTimeout(() => {\n        jQuery(tooltip).fadeOut(120);\n      }, 2000);\n    }\n  } // Facebook\n\n\n  facebook() {\n    window.open(\"https://www.facebook.com/sharer/sharer.php?u=\" + encodeURI(this.permalink), \"\", \"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=\" + this.windowHeight + \",width=\" + this.windowWidth);\n  } // Twitter\n\n\n  twitter() {\n    window.open(\"https://twitter.com/share?url=\" + encodeURI(this.permalink) + \"&text=\" + encodeURI(this.title), \"\", \"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=\" + this.windowHeight + \",width=\" + this.windowWidth);\n  } // Linkedin\n\n\n  linkedin() {\n    window.open(\"https://www.linkedin.com/shareArticle?mini=true&url=\" + encodeURI(this.permalink) + \"&title=\" + encodeURI(this.title), \"\", \"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=\" + this.windowHeight + \",width=\" + this.windowWidth);\n  } // Google Plus\n\n\n  google() {\n    window.open(\"https://plus.google.com/share?url=\" + encodeURI(this.permalink), \"\", \"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=\" + this.windowHeight + \",width=\" + this.windowWidth);\n  } // Pinterest\n\n\n  pinterest() {\n    window.open(\"https://pinterest.com/pin/create/button/?url=\" + encodeURI(this.permalink) + \"&media=\" + encodeURI(wpdm_social_share.image) + \"&description=\" + encodeURI(this.title), \"\", \"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=\" + this.windowHeight + \",width=\" + this.windowWidth);\n  } // Tumblr\n\n\n  tumblr() {\n    window.open(\"https://www.tumblr.com/share/link?url=\" + encodeURI(this.permalink) + \"&name=\" + encodeURI(wpdm_social_share.title) + \"&description=\" + encodeURI(wpdm_social_share.description), \"\", \"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=\" + this.windowHeight + \",width=\" + this.windowWidth);\n  } // Reddit\n\n\n  reddit() {\n    window.open(\"https://reddit.com/submit?url=\" + encodeURI(this.permalink) + \"&title=\" + encodeURI(wpdm_social_share.title), \"\", \"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=\" + this.windowHeight + \",width=\" + this.windowWidth);\n  } // stumbleupon\n\n\n  stumbleupon() {\n    window.open(\"https://www.stumbleupon.com/submit?url=\" + encodeURI(this.permalink) + \"&title=\" + encodeURI(wpdm_social_share.title), \"\", \"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=\" + this.windowHeight + \",width=\" + this.windowWidth);\n  } // Delicious\n\n\n  delicious() {\n    window.open(\"https://delicious.com/save?url=\" + encodeURI(this.permalink) + \"&title=\" + encodeURI(wpdm_social_share.title), \"\", \"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=\" + this.windowHeight + \",width=\" + this.windowWidth);\n  } // evernote\n\n\n  evernote() {\n    window.open(\"https://www.evernote.com/clip.action?url=\" + encodeURI(this.permalink) + \"&title=\" + encodeURI(wpdm_social_share.title), \"\", \"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=\" + this.windowHeight + \",width=\" + this.windowWidth);\n  } // wordpress\n\n\n  wordpress() {\n    window.open(\"https://wordpress.com/press-this.php?u=\" + encodeURI(this.permalink) + \"&t=\" + encodeURI(wpdm_social_share.title) + \"&s=\" + encodeURI(wpdm_social_share.description), \"\", \"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=\" + this.windowHeight + \",width=\" + this.windowWidth);\n  } // pocket\n\n\n  pocket() {\n    window.open(\"https://getpocket.com/save?url=\" + encodeURI(this.permalink) + \"&title=\" + encodeURI(wpdm_social_share.title), \"\", \"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=\" + this.windowHeight + \",width=\" + this.windowWidth);\n  } // email\n\n\n  email() {\n    window.open(\"mailto:?subject=\" + encodeURI(wpdm_social_share.title) + \"&body=\" + encodeURI(this.permalink), \"\", \"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=\" + this.windowHeight + \",width=\" + this.windowWidth);\n  } // print\n\n\n  print() {\n    window.print();\n  } // whatsapp\n\n\n  whatsapp() {\n    window.open(\"https://api.whatsapp.com/send?text=\" + encodeURI(wpdm_social_share.title) + \" \" + encodeURI(this.permalink), \"\", \"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=\" + this.windowHeight + \",width=\" + this.windowWidth);\n  } // sms\n\n\n  sms() {\n    window.open(\"sms:?body=\" + encodeURI(wpdm_social_share.title) + \" \" + encodeURI(this.permalink), \"\", \"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=\" + this.windowHeight + \",width=\" + this.windowWidth);\n  } // messenger\n\n\n  messenger() {\n    window.open(\"https://www.facebook.com/dialog/send?app_id=6292016320814619&link=\" + encodeURI(this.permalink) + \"&redirect_uri=\" + encodeURI(this.permalink), \"\", \"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=\" + this.windowHeight + \",width=\" + this.windowWidth);\n  } // telegram\n\n\n  telegram() {\n    window.open(\"https://telegram.me/share/url?url=\" + encodeURI(this.permalink) + \"&text=\" + encodeURI(wpdm_social_share.title), \"\", \"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=\" + this.windowHeight + \",width=\" + this.windowWidth);\n  }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SocialChannel);\n\n//# sourceURL=webpack://wp-dark-mode-dev/./src/js/social-channel.js?");

/***/ }),

/***/ "./src/js/social-share.js":
/*!********************************!*\
  !*** ./src/js/social-share.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _social_channel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./social-channel */ \"./src/js/social-channel.js\");\n/**\n * WP Dark Mode Social Share\n * Added from 2.3.7\n */\n\n\n(function ($) {\n  /**\n   * Main core class of the module\n   */\n  class SocialShare {\n    /**\n     * Constructor\n     */\n    constructor() {\n      this.bindEvents();\n    }\n    /**\n     * Bind events\n     */\n\n\n    bindEvents() {\n      const social_buttons = document.querySelectorAll(\".wpdm-social-share-button[data-channel]\");\n\n      if (social_buttons.length > 0) {\n        social_buttons.forEach(button => {\n          button.addEventListener(\"click\", this.triggerShare.bind(this));\n        });\n      }\n\n      $(document).on(\"click\", \"._wpdm-social-share-modal-close, ._wpdm-social-share-modal-overlay\", function (event) {\n        event.preventDefault();\n        $(\"._wpdm-social-share-modal\").fadeOut(100);\n        $(\"._wpdm-social-share-modal-overlay\").fadeOut(100);\n      });\n    }\n    /**\n     * triggerShare\n     * @param {Event} e\n     * @returns {void}\n     */\n\n\n    triggerShare(e) {\n      const button = e.target.closest(\".wpdm-social-share-button\");\n      const channel = button.dataset.channel;\n      const permalink = wpdm_social_share.permalink || window.location.href;\n      const social_channel = new _social_channel__WEBPACK_IMPORTED_MODULE_0__[\"default\"](channel, permalink, button);\n      social_channel.share();\n    }\n\n  }\n  /**\n   * Initialize the module\n   */\n\n\n  document.addEventListener(\"DOMContentLoaded\", function () {\n    new SocialShare();\n  });\n})(jQuery);\n\n//# sourceURL=webpack://wp-dark-mode-dev/./src/js/social-share.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/js/social-share.js");
/******/ 	
/******/ })()
;